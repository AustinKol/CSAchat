(this["webpackJsonpcsa-chat"]=this["webpackJsonpcsa-chat"]||[]).push([[0],{80:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n(2),r=n.n(a),s=n(26),i=n.n(s),j=n(86),o=n(87),l=n(51),d=n(88),b=n(89),u=n.p+"static/media/conversation-animate.3ad3761f.svg",h=n.p+"static/media/example-animate.fe729bb8.svg";var O=function(){var e=Object(a.useRef)(null);function t(){e.current.scrollIntoView({behavior:"smooth"})}return Object(c.jsxs)(j.a,{children:[Object(c.jsxs)(o.a,{children:[Object(c.jsx)(l.a,{children:Object(c.jsxs)(d.a,{style:{backgroundColor:"white"},children:[Object(c.jsx)("h1",{children:"Hello, world!"}),Object(c.jsx)("p",{children:"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."}),Object(c.jsx)("p",{children:Object(c.jsx)(b.a,{variant:"primary",children:"Learn more"})})]})}),Object(c.jsx)(l.a,{children:Object(c.jsx)("img",{src:u,alt:"Art"})})]}),Object(c.jsx)(o.a,{children:Object(c.jsxs)(l.a,{children:[Object(c.jsxs)("div",{className:"arrow",onClick:t,children:[Object(c.jsx)("span",{onClick:t}),Object(c.jsx)("span",{onClick:t}),Object(c.jsx)("span",{onClick:t})]}),Object(c.jsx)("div",{className:"patting"})]})}),Object(c.jsxs)(o.a,{className:"justfiy-content-md-center",children:[Object(c.jsx)(l.a,{xs:!0,lg:"2"}),Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{ref:e,children:Object(c.jsx)("a",{href:"/selfhelp",children:Object(c.jsx)("img",{src:h,alt:"chatButton"})})})}),Object(c.jsx)(l.a,{xs:!0,lg:"2"})]})]})},x=n(24),p=n(21),f=n(32),m=n(28),g=n.n(m),v=n(41),y=n(9),I=(n(67),n(48),n(52)),C=n(93),k=n(91);var w=function(e){var t=y.a.firestore(),n=Object(a.useState)(""),r=Object(x.a)(n,2),s=r[0],i=r[1],d=Object(a.useRef)(null),u=t.collection("users").doc(e.uid).collection("messages"),h=u.orderBy("time"),O=(t.collection("users").doc(e.uid).get().then((function(n){var c;(null===(c=n.data())||void 0===c?void 0:c.timeCreated)||t.collection("users").doc(e.uid).set({timeCreated:y.a.firestore.FieldValue.serverTimestamp()})})),function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.add({text:t,time:y.a.firestore.FieldValue.serverTimestamp(),person:n});case 2:i(""),d.current.scrollIntoView({behavior:"smooth"});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(I.a)(h),f=Object(x.a)(p,1)[0];return console.log(f),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(j.a,{children:[Object(c.jsx)(o.a,{children:Object(c.jsx)(l.a,{children:Object(c.jsxs)(C.a,{children:[f&&f.map((function(e,t){return Object(c.jsx)(C.a.Item,{children:e.text},t)})),Object(c.jsx)("div",{ref:d})]})})}),Object(c.jsx)(k.a,{onSubmit:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),O(s,0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(l.a,{xs:10,children:Object(c.jsx)(k.a.Group,{controlId:"msg",children:Object(c.jsx)(k.a.Control,{value:s,onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Message"})})}),Object(c.jsx)(l.a,{children:Object(c.jsx)(b.a,{variant:"outline-primary",type:"submit",children:"Envoyer"})})]})})]})})};var F=function(){var e=p.a.auth(),t=Object(f.a)(e),n=Object(x.a)(t,2),a=n[0],r=n[1];return e.signInAnonymously(),Object(c.jsx)(c.Fragment,{children:r?"Telechargement en cours...":Object(c.jsx)(w,{uid:a.uid})})};var A=function(){return Object(c.jsx)(F,{})},S=n(53);var D=function(){return Object(c.jsx)(c.Fragment,{})};var L=function(){var e=p.a.auth(),t=Object(f.a)(e),n=Object(x.a)(t,2),a=n[0],r=(n[1],{callbacks:{signInSuccessWithAuthResult:function(e,t){e.user,e.credential,e.additionalUserInfo.isNewUser,e.additionalUserInfo.providerId,e.operationType;return!1}},signInFlow:"popup",signInOptions:[{provider:p.a.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1}]});return Object(c.jsx)(c.Fragment,{children:a?Object(c.jsx)(D,{}):Object(c.jsx)(S.StyledFirebaseAuth,{uiConfig:r,firebaseAuth:e})})},T=(n(80),n(90)),N=n(92),R=(n(81),n(55)),B=n(13);var E=function(){return p.a.apps.length?console.log("firebase is init"):p.a.initializeApp({apiKey:"AIzaSyDpFJ1vMnojgESGXD-yjlQyIXU8GuJNQLA",authDomain:"csachat-9dff3.firebaseapp.com",databaseURL:"https://csachat-9dff3-default-rtdb.firebaseio.com",projectId:"csachat-9dff3",storageBucket:"csachat-9dff3.appspot.com",messagingSenderId:"384915371882",appId:"1:384915371882:web:2a14a7141b635d69381713"}),console.log("here"),Object(c.jsxs)(R.a,{basename:"/CSAchat",children:[Object(c.jsxs)(T.a,{bg:"light",expand:"lg",children:[Object(c.jsx)(T.a.Brand,{href:"/",children:"Pairs-Aidants"}),Object(c.jsx)(T.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(T.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(N.a,{className:"mr-auto",children:[Object(c.jsx)(N.a.Link,{href:"/",children:"Accueil"}),Object(c.jsx)(N.a.Link,{href:"/signin",children:"Connection"}),Object(c.jsx)(N.a.Link,{href:"/selfhelp",children:"Ressources"})]})})]}),Object(c.jsxs)(B.c,{children:[Object(c.jsx)(B.a,{exact:!0,path:"/",children:Object(c.jsx)(O,{})}),Object(c.jsx)(B.a,{path:"/signin",children:Object(c.jsx)(L,{})}),Object(c.jsx)(B.a,{path:"/selfhelp",children:Object(c.jsx)(A,{})})]})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),P()}},[[84,1,2]]]);
//# sourceMappingURL=main.9d619c83.chunk.js.map
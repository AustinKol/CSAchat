(this["webpackJsonpcsa-chat"]=this["webpackJsonpcsa-chat"]||[]).push([[0],{82:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(2),a=c.n(s),r=c(27),i=c.n(r),o=c(86),j=c(87),l=c(53),b=c(88),d=c(89),u=c(22),h=c.p+"static/media/conversation-animate.3ad3761f.svg",x=c.p+"static/media/example-animate.fe729bb8.svg";var O=function(){var e=Object(s.useRef)(null);function t(){e.current.scrollIntoView({behavior:"smooth"})}return Object(n.jsxs)(o.a,{children:[Object(n.jsxs)(j.a,{children:[Object(n.jsx)(l.a,{children:Object(n.jsxs)(b.a,{style:{backgroundColor:"white"},children:[Object(n.jsx)("h1",{children:"Bienvenue"}),Object(n.jsx)("p",{children:"Nous sommes les pair aidants. Nous sommes i\xe7i pour vous aider. Chattez avec nous!"}),Object(n.jsx)("p",{children:Object(n.jsx)(d.a,{as:u.b,to:"/about",variant:"primary",children:"Nous conna\xeetre plus"})})]})}),Object(n.jsx)(l.a,{children:Object(n.jsx)("img",{src:h,alt:"Art"})})]}),Object(n.jsx)(j.a,{children:Object(n.jsxs)(l.a,{children:[Object(n.jsxs)("div",{className:"arrow",onClick:t,children:[Object(n.jsx)("span",{onClick:t}),Object(n.jsx)("span",{onClick:t}),Object(n.jsx)("span",{onClick:t})]}),Object(n.jsx)("div",{className:"patting"})]})}),Object(n.jsxs)(j.a,{className:"justfiy-content-md-center",children:[Object(n.jsx)(l.a,{xs:!0,lg:"2"}),Object(n.jsx)(l.a,{children:Object(n.jsx)("div",{ref:e,children:Object(n.jsx)(u.b,{to:"/anon",children:Object(n.jsx)("img",{src:x,alt:"chatButton"})})})}),Object(n.jsx)(l.a,{xs:!0,lg:"2"})]})]})};var p=function(){return Object(n.jsx)(n.Fragment,{children:'"En progr\xe8s"'})},m=c(21),f=c(20),g=c(33),v=c(55),y=c(93),I=c(34),C=c(29),k=c.n(C),F=c(46),S=c(9),w=(c(80),c(52),c(91));var A=function(e){var t=S.a.firestore(),c=Object(s.useState)(""),a=Object(m.a)(c,2),r=a[0],i=a[1],b=Object(s.useRef)(null),u=t.collection("users").doc(e.uid).collection("messages"),h=u.orderBy("time");t.collection("users").doc(e.uid).get().then((function(c){var n;(null===(n=c.data())||void 0===n?void 0:n.timeCreated)||t.collection("users").doc(e.uid).set({timeCreated:S.a.firestore.FieldValue.serverTimestamp()})}));var x=function(){var e=Object(F.a)(k.a.mark((function e(t,c){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.add({text:t,time:S.a.firestore.FieldValue.serverTimestamp(),person:c});case 2:i(""),b.current.scrollIntoView({behavior:"smooth"});case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),O=Object(I.b)(h),p=Object(m.a)(O,1)[0];return console.log(p),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(j.a,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)(y.a,{children:[p&&p.map((function(t,c){return Object(n.jsx)(y.a.Item,{style:t.person^e.person?{placeSelf:"flex-start"}:{placeSelf:"flex-end"},children:t.text},c)})),Object(n.jsx)("div",{ref:b})]})})}),Object(n.jsx)(w.a,{onSubmit:function(){var t=Object(F.a)(k.a.mark((function t(c){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),x(r,e.person);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(l.a,{xs:10,children:Object(n.jsx)(w.a.Group,{controlId:"msg",children:Object(n.jsx)(w.a.Control,{value:r,onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Message"})})}),Object(n.jsx)(l.a,{children:Object(n.jsx)(d.a,{variant:"outline-primary",type:"submit",children:"Envoyer"})})]})})]})})};var P=function(){var e=f.a.firestore().collection("users").orderBy("timeCreated","desc"),t=Object(I.a)(e),c=Object(m.a)(t,3),a=c[0],r=c[1],i=c[2],o=Object(s.useState)(""),j=Object(m.a)(o,2),l=j[0],b=j[1];return""===l?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("strong",{children:Object(n.jsxs)(y.a,{horizontal:!0,children:[Object(n.jsx)(y.a.Item,{bsPrefix:"list-group-item col-md-2",children:"Personne"}),Object(n.jsx)(y.a.Item,{bsPrefix:"list-group-item col-md-4",children:"Temps Cree"}),Object(n.jsx)(y.a.Item,{bsPrefix:"list-group-item col-md-2",children:"Lien"})]})}),i&&Object(n.jsxs)("strong",{children:["Error: ",JSON.stringify(i)]}),r&&Object(n.jsx)("span",{children:"Loading"}),a&&a.docs.map((function(e,t){return console.log(e.data()),Object(n.jsxs)(y.a,{horizontal:!0,children:[Object(n.jsxs)(y.a.Item,{bsPrefix:"list-group-item col-md-2",children:["Personne ",t+1]}),Object(n.jsx)(y.a.Item,{bsPrefix:"list-group-item col-md-4",children:new Date(1e3*e.data().timeCreated.seconds).toLocaleString()}),Object(n.jsx)(y.a.Item,{bsPrefix:"list-group-item col-md-2",children:Object(n.jsx)(d.a,{onClick:function(){b(e.id)},children:"Contactez"})})]})}))]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(A,{uid:l,person:1})})};var L=function(){var e=f.a.auth(),t=Object(g.a)(e),c=Object(m.a)(t,1)[0],s={callbacks:{signInSuccessWithAuthResult:function(e,t){return!1}},signInFlow:"popup",signInOptions:[{provider:f.a.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1}]};return Object(n.jsx)(n.Fragment,{children:c&&!c.isAnonymous?Object(n.jsx)(P,{}):Object(n.jsx)(v.StyledFirebaseAuth,{uiConfig:s,firebaseAuth:e})})},N=(c(82),c(90)),D=c(92);c(83);var E=function(){var e=f.a.auth(),t=Object(g.a)(e),c=Object(m.a)(t,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){e.signInAnonymously(),console.log("singing in")}),[]),Object(n.jsx)(n.Fragment,{children:!r&&(null===a||void 0===a?void 0:a.isAnonymous)?Object(n.jsx)(A,{uid:a.uid,person:0}):"Telechargement en cours..."})};var B=function(){return Object(n.jsx)(n.Fragment,{children:'"En progr\xe8s"'})},R=c(13);var T=function(){return f.a.apps.length?console.log("firebase is init"):f.a.initializeApp({apiKey:"AIzaSyDpFJ1vMnojgESGXD-yjlQyIXU8GuJNQLA",authDomain:"csachat-9dff3.firebaseapp.com",databaseURL:"https://csachat-9dff3-default-rtdb.firebaseio.com",projectId:"csachat-9dff3",storageBucket:"csachat-9dff3.appspot.com",messagingSenderId:"384915371882",appId:"1:384915371882:web:2a14a7141b635d69381713"}),console.log("here"),Object(n.jsxs)(u.a,{basename:"/",children:[Object(n.jsxs)(N.a,{bg:"light",expand:"lg",children:[Object(n.jsx)(N.a.Brand,{as:u.b,to:"/",children:"Pairs-Aidants"}),Object(n.jsx)(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(N.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)(D.a,{className:"mr-auto",children:[Object(n.jsx)(D.a.Link,{as:u.b,to:"/",children:"Accueil"}),Object(n.jsx)(D.a.Link,{as:u.b,to:"/signin",children:"Connection"}),Object(n.jsx)(D.a.Link,{as:u.b,to:"/selfhelp",children:"Ressources"}),Object(n.jsx)(D.a.Link,{as:u.b,to:"/about",children:"Nous conna\xeetre"})]})})]}),Object(n.jsxs)(R.c,{children:[Object(n.jsx)(R.a,{exact:!0,path:"/",children:Object(n.jsx)(O,{})}),Object(n.jsx)(R.a,{path:"/signin",children:Object(n.jsx)(L,{})}),Object(n.jsx)(R.a,{path:"/selfhelp",children:Object(n.jsx)(p,{})}),Object(n.jsx)(R.a,{path:"/teacherdash",children:Object(n.jsx)(P,{})}),Object(n.jsx)(R.a,{path:"/anon",children:Object(n.jsx)(E,{})}),Object(n.jsx)(R.a,{path:"/about",children:Object(n.jsx)(B,{})})]})]})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,94)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root")),z()}},[[84,1,2]]]);
//# sourceMappingURL=main.e88fa8a8.chunk.js.map